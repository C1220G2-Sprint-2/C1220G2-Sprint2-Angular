<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Quản lý nhóm sinh viên</title>
  <link
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css"
    rel="stylesheet"
  />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.0.1/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
</head>
<body>
<div class="container">
  <div class="table-responsive">
    <div class="table-wrapper">
      <div class="table-title">
        <div class="row" style="margin-right: 0px;">
          <div class="col-9">
            <h1 style="margin-top: 20px">Quản lý nhóm <span>Sinh viên</span></h1>
          </div>
          <div class="col-3"
               style="margin-top: 20px;height: 52px; ; background:  #4F9B65; border-radius: 20px">
            <input type="text" class="form-control" placeholder="Tìm kiếm..." [(ngModel)]="search"
                   style="display: inline-block; width: 85%;margin-top: 6px;">
            <button class="btn btn-default" title="Reload" style="display: inline-block; float: right;margin-top: 6px;" (click)="searchAll()">
              <i class="fa fa-search" style="color: white" ></i></button>
          </div>
        </div>
      </div>
      <table class="table table-striped table-hover table-bordered">
        <thead>
        <tr>
          <th scope="col">STT</th>
          <th scope="col">Tên nhóm</th>
          <th scope="col">Mã sinh viên</th>
          <th scope="col">Thời hạn chót nộp đề tài</th>
          <th scope="col">Đã kiểm duyệt</th>
          <th scope="col">Chức năng</th>
          <th scope="col">Ngày kết thúc</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let st of teamList  | paginate: { id: 'groupPage',itemsPerPage: 4, currentPage: pageList }; index as i ">
          <td>{{i + 1}}</td>
          <td>{{st.name}}</td>
          <td>{{st.teamLeader}}</td>
          <td *ngIf="st.deadline;else de">
            {{st.deadline}}
          </td>
          <ng-template #de >
            <td style="vertical-align: middle">
              <span >Chưa có thời hạn</span>
            </td>
          </ng-template>
          <td *ngIf="st.status; else other" >
            <button class="btn font-weight-bold btn-primary" style="min-width: 55%;
                                 border-radius: 1.5rem" disabled>Đã Duyệt
            </button>
          </td>
          <ng-template #other>
            <td>
              <button class="btn font-weight-bold btn-primary" style=" min-width: 55%;
                                 border-radius: 1.5rem" (click)="toProject()" > Duyệt
              </button>
            </td>
          </ng-template>
          <td>
            <button class="btn font-weight-bold" style=" color: white;
                                 border-radius: 1.5rem" (click)="toDetail(st.id)"><i class="fa fa-eye text-success"></i>
            </button>
            <a href="#" class="delete" title="Delete" data-toggle="tooltip" data-bs-toggle="modal" style="vertical-align: middle;font-size: 1.5rem;"
               data-bs-target="#exampleModal" (click)="getIdStudentGroup(st.id)"><i class="material-icons fa-5x" style="width: 1.5rem">&#xE872;</i>
            </a>
          </td>
          <td>
            <button class="btn font-weight-bold " data-toggle="tooltip" data-bs-toggle="modal"
                    data-bs-target="#exampleModal1" style="
                                border-radius: 1.5rem" (click)="getIdStudentGroup(st.id)"><i class="far fa-clock"></i>
            </button>
          </td>
        </tr>
        <tr *ngIf="teamList.length ==0" style="text-align: center">
          <td colspan="7" ><span style="color: red">Chưa có Nhóm nào được đăng ký</span></td>
        </tr>
        </tbody>
      </table>
      <div class="clearfix">
        <!--        <div class="hint-text">Hiển thị <b>8</b> trên <b>25</b> học sinh</div>-->
        <ul class="pagination">
          <li><input class="form-control" type="number" placeholder="Tìm" [(ngModel)]="pageList" style="height: 30px;width: 55px; border-radius: 20px"></li>
          <pagination-controls (pageChange)="pageList = $event"
                               id="groupPage"
                               previousLabel="<"
                               nextLabel=">"
                               screenReaderPaginationLabel="Pagination"
                               screenReaderPageLabel="page"
                               screenReaderCurrentLabel="You're on page"></pagination-controls>
        </ul>
      </div>
    </div>
  </div>
</div>
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header" style="background-color: #4F9B65">
        <h5 class="modal-title w-100 text-center text-white" id="exampleModalLabel">Xóa sinh viên</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        Bạn có muốn xóa <span style="color: red">{{name}}</span> khỏi danh sách không?
      </div>
      <div class="modal-footer">
        <button type="button" class="btn font-weight-bold"
                style="background-color: #616C8C; color: white; border-radius: 1.5rem" data-bs-dismiss="modal">
          Hủy
        </button>
        <button type="button" class="btn font-weight-bold" data-bs-dismiss="modal"
                style="background-color: #d91a37;color: white; border-radius: 1.5rem" (click)="deleteStudentGroup()">Xóa
        </button>
      </div>
    </div>
  </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
        integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
        crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
        integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF"
        crossorigin="anonymous"></script>
<div class="modal fade" id="exampleModal1" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header" style="background-color: #4F9B65">
        <h5 class="modal-title w-100 text-center text-white" id="exampleModalLabel1">Hạn chót tạo dự án</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        Nhập ngày hạn chót: <input type="text" [(ngModel)]="date">
      </div>
      <div class="modal-footer">
        <button type="button" class="btn font-weight-bold"
                style="background-color: #616C8C; color: white; border-radius: 1.5rem" data-bs-dismiss="modal">
          Hủy
        </button>
        <button class="btn font-weight-bold" style="background-color: #4F9B65;color: white;
                border-radius: 1.5rem ; min-width: 20%" data-bs-dismiss="modal" (click)="getStudentGroup()">Đồng ý
        </button>
      </div>
    </div>
  </div>
</div>
</body>
</html>
