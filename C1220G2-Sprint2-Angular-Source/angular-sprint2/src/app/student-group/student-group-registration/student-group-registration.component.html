<link
  href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap"
  rel="stylesheet"
/>
<link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css"
      integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p" crossorigin="anonymous"/>

<div class="login-form" style="margin: 20px">
  <div class="container-fluid p-0">
    <h1 class="text-center p-5">Đăng ký nhóm sinh viên</h1>

    <div class="row w-75 m-auto p-0">
      <div class="row" style="margin-right: 0px;">
        <div class="col-9"></div>
        <div class="col-3"
             style="margin-top: 20px;height: 52px; ; background:  #4F9B65; border-radius: 20px">
          <input type="text" class="form-control" placeholder="Tìm kiếm..."
                 style="display: inline-block; width: 82%;margin-top: 6px;" [(ngModel)]="searchStudent">
          <button class="btn btn-default" title="Reload" style="display: inline-block; float: right;margin-top: 6px;" (click)="searchTeamRegistration()">
            <i class="fa fa-search" style="color: white"></i> </button>
        </div>
      </div>
      <div class="col-12 col-sm-6 col-md-4 col-lg-3 mb-3">

      </div>
      <div class="col-md-4 col-lg-5"></div>
      <div class="col-12 col-sm-6 col-md-4 col-lg-4 mb-3">
      </div>
    </div>
    <div class="row w-75 m-auto p-0">
      <div *ngIf="listStudent.length==0" style="text-align: center;margin: 100px 0" >
        <h4 > Học sinh bạn tìm kiếm chưa có trong kho dữ liệu</h4>
      </div>
      <div class="col-12 col-sm-6 col-md-3 col-lg-3" *ngFor="let s of listStudent | slice: (page-1) * pageSize : page * pageSize">
        <div class="our-team">
          <div class="picture">
            <img class="img-fluid" [src]="s.image" *ngIf="s.image  != null" alt="Chưa có ảnh">
            <img *ngIf="s.image == null"
                 src="data:image/jpeg;base64,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"
                 alt="Chưa có ảnh">
          </div>
          <div class="team-content">
            <h4 class="name">{{s.name}}</h4>
            <hr>
            <p>
<!--              <i class="fas fa-file-code" ></i>-->
              <b>Mã sinh viên: </b>{{s.code}}</p>
            <p>
<!--              <i class="fas fa-envelope"></i>-->
              <b>Email: </b>{{s.email}}</p>
            <p>
<!--              <i class="fas fa-phone-alt"></i>-->
              <b>ĐT: </b>{{s.phone}}</p>
            <p>
<!--              <i class="fa fa-birthday-cake" aria-hidden="true"></i>-->
              <b>Ngày sinh: </b>{{s.dateOfBirth | date:"dd/MM/y"}}</p>
            <p>
<!--              <i class="fas fa-sitemap"></i> -->
              <b>Lớp: </b>{{s.aClass.name}}</p>
          </div>
          <ul class="social">
            <li>  <button class="btn font-weight-bold " [disabled]="s.code == studentTS.code"
                          style="background-color: #4F9B65; color: white; border-radius: 1.5rem" (click)="addStudent(s)">Thêm vào nhóm</button></li>
          </ul>
        </div>
      </div>

      <div class="clearfix">
        <!--        <div class="hint-text">Hiển thị <b>8</b> trên <b>25</b> học sinh</div>-->

        <ul class="pagination">
          <li><input class="form-control" type="number" placeholder="Tìm" style="height: 30px;width: 55px; border-radius: 20px" [(ngModel)]="page"></li>
<!--          <li style="margin-left: 13px;margin-right: -9px;"><i class="fa fa-search"></i></li>-->
<!--          <li style="width: 20px"></li>-->
          <ngb-pagination class="d-flex justify-content-end"
                          [(page)]="page"
                          [pageSize]="pageSize"
                          [collectionSize]="listStudent.length"
                          [maxSize]="5"
                          [rotate]="true"
                          [ellipses]="true"
                          [boundaryLinks]="true">
            <ng-template ngbPaginationFirst> << </ng-template>
            <ng-template ngbPaginationLast> >> </ng-template>
            <ng-template ngbPaginationPrevious> < </ng-template>
            <ng-template ngbPaginationNext> > </ng-template>
            <ng-template ngbPaginationEllipsis>...</ng-template>
            <ng-template ngbPaginationNumber let-page>{{ page }}</ng-template>
          </ngb-pagination>
        </ul>
      </div>
    </div>
  </div>

  <div style="height: 50px"></div>
  <div class="container-xl w-75">
    <div >
      <div >
        <div class="table-title">
          <div class="row">
            <div class="col-sm-6"><h1>Nhóm đăng ký</h1></div>
            <div class="col-sm-3" >
            </div>
            <div class="col-sm-3">
            </div>
          </div>
        </div>
        <table class="table table-striped table-hover table-bordered">
          <thead>
          <tr >
            <th scope="col">STT</th>
            <th scope="col">Tên sinh viên <a (click)="sortName()"><i class="fa fa-sort" ></i></a></th>
            <th scope="col">Mã sinh viên <a><i class="fa fa-sort" (click)="sortCode()"></i></a></th>
            <th>Lớp học <a><i class="fa fa-sort"  (click)="sortClass()"></i></a></th>
            <th>Ngày sinh</th>
            <th style="text-align: center">Thao tác</th>
          </tr>
          </thead>
          <tbody>
          <tr *ngIf="listTeam.length==0" style="text-align: center;" >
            <td colspan="6" > Bạn chưa thêm học sinh vào kho dữ liệu</td>
          </tr>
          <tr *ngFor="let student of listTeam | slice : (page2-1) * pageSize2 : page2 * pageSize2; index as i">
            <td class="font-weight-bold">{{i+1}}</td>
            <td>{{student.name}}
              <i class="fas fa-star" *ngIf="student.code == studentTS.code"></i>
            </td>
            <td>{{student.code}}</td>
            <td>{{student.aClass.name}}</td>
            <td>{{student.dateOfBirth | date:"dd/MM/y"}}</td>
            <td class="text-center">
              <a class="delete" title="Delete" data-toggle="tooltip" data-bs-toggle="modal"
                 data-bs-target="#deleteModal" (click)="guiThongtin(student)"><i style="color: red"
                                                  class="fas fa-trash-alt"></i></a>
            </td>

          </tr>

          </tbody>
        </table>
        <div class="clearfix">
          <span style="color: red" *ngIf="listTeam.length<5 || listTeam.length > 10 ">Nhóm phải có ít nhất 5 thành viên và nhiều nhất 10 thành viên.</span>
          <ul class="pagination">
            <li><input class="form-control" type="number" placeholder="Tìm" style="height: 30px;width: 55px; border-radius: 20px" [(ngModel)]="page2"></li>
<!--            <li style="margin-left: 13px;margin-right: -9px;"><i class="fa fa-search"></i></li>-->
<!--            <li style="width: 20px"></li>-->
            <ngb-pagination class="d-flex justify-content-end"
                            [(page)]="page2"
                            [pageSize]="pageSize2"
                            [collectionSize]="listTeam.length"
                            [maxSize]="5"
                            [rotate]="true"
                            [ellipses]="true"
                            [boundaryLinks]="true">
              <ng-template ngbPaginationFirst> << </ng-template>
              <ng-template ngbPaginationLast> >> </ng-template>
              <ng-template ngbPaginationPrevious> < </ng-template>
              <ng-template ngbPaginationNext> > </ng-template>
              <ng-template ngbPaginationEllipsis>...</ng-template>
              <ng-template ngbPaginationNumber let-page>{{ page }}</ng-template>
            </ngb-pagination>
          </ul>
        </div>
      </div>

    </div>
    <div style="height: 30px"></div>
  </div>
  <div class="row" style="margin-bottom: 10px; ">
    <button href="#" class="btn font-weight-bold"
            style="background-color: #4F9B65; color: white;width: 180px; border-radius: 1.5rem; margin-left: 45%" [disabled]="listTeam.length==0 || studentTS.team.id != 1 || listTeam.length<5 || listTeam.length > 10 "
            data-bs-toggle="modal" data-bs-target="#taoNhom">Tạo nhóm
    </button>
  </div>
  <div style="height: 30px"></div>
</div>
<div class="modal fade" id="taoNhom" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header" style=" background: #4F9B65; color: white">
        <h5 class="modal-title" id="exampleModalLabel">Đặt tên nhóm</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <input type="text" class="form-control " id="tenDeTai" placeholder="Vui lòng không để trống nội dung" required [(ngModel)]="nameTeam">
        <span style="color: red" *ngIf="checkName && nameTeam.length!=0 ">
                            Tên nhóm đã tồn tại!
                        </span>
        <span style="color: red" *ngIf=" nameTeam.length<5 && nameTeam.length!=0 ">
                            Tên nhóm phải lớn hơn 5 ký tự!
                        </span>
      </div>
      <div class="modal-footer">
        <button class="btn font-weight-bold" style="background-color: #616C8C; color: white; border-radius: 1.5rem" data-bs-dismiss="modal">Hủy bỏ</button>
        <button (click)="createTeam()"  [disabled]="checkName ||  nameTeam.length<5" class="btn font-weight-bold" style="background-color: #4F9B65; color: white; border-radius: 1.5rem" data-bs-dismiss="modal">Thêm mới</button>
      </div>
    </div>
  </div>
</div>


<div class="modal fade" id="deleteModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header" style=" background: #4F9B65; color: white">
        <h5 class="modal-title" id="">Xóa thành viên khỏi danh sách</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        Bạn có chắc chắn muốn xóa thành viên <span style="color:red;" > {{studentDelete.name}} </span> này ra khỏi danh sách đăng ký không?
      </div>

      <div class="modal-footer">
        <button class="btn font-weight-bold" style="background-color: #616C8C; color: white; border-radius: 1.5rem" data-bs-dismiss="modal">Hủy bỏ</button>
        <button class="btn font-weight-bold" style="background-color: red; color: white; border-radius: 1.5rem" data-bs-dismiss="modal" (click)="delete(studentDelete.code)">Xóa</button>
      </div>
    </div>
  </div>
</div>

<ngx-loading [show]="loading" [config]="{ backdropBorderRadius: '3px', fullScreenBackdrop: true }" ></ngx-loading>
